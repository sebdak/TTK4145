--------
To-do
- Vurdere peersinfomutex
	-  Finnes det funksjoner på hardwarenivå som hindrer kræsj når det leses og skrives samtidig?
- Vurdere headingsmutex
	- Når man skriver/leser entry i map, finnes det funksjoner på hardwarenivå som hindrer kræsj når dette skjer samtidig?
- Vurdere tre kopier av internalqueue
- Bug: når heis faller av nettverket vil det oppstå mutex problemer om den skal kunne operere med internordrene



--------------------------------------------------------------------------------
Done list
Når en heis ikke når etasjen innen så, så mange sekunder: ta den av nettverket så ordren blir håndtert. Done

Ny ordre kommer inn
1. Heis som fikk ordre spammer at den må legges til i ext. dersom den ikke finnes fra før
3. Ny kø med ordre mottas og alle er happy

Ordre er håndtert
1. Legges til i ordre er håndtert.
2. Spammes til ny kø er mottatt uten ordren.
3. I mellomtiden ignoreres ordren fra internalqueue

Hvordan legges ny ordre til
1. Man henter ut ids fra headingskøen  og går gjennom hvem av de som har kortest avstand til mottatt ordre.
2. Den iden settes på ordren og legges i ext. queue

- if elev off network -> put new external orders in internal queue

Når en heis faller av nettet må ordrene dens redistribueres.
Nettverk sjekker om heis er på.
Faller den ut sendes det i en channel at nettet har gått til queue. Queue pusher hele extqueue til internal, elevator trenger ikke endre state. Master settes til false

HallLys settes i lys av externalqueue, de andre i lys av hardware

- Add "go" on all new routines
- Legg til flere ifs for at elev skal stoppe i etasje
- Fix internalqueue delete orders
- fix setDirection og updatedirection
- fix lysene
- When pressing two hall buttons at same floor -> elevator doesnt handle both
- Turn on open-door-lamp
- Fix elevator init when at floor 0
- Fix compare and fix externalqueue logic
- Alle gets trenger ikke sleep
- Gå gjennom hele new external order prosessen og se hvor bugs kan oppstå
- Ny ordre burde slettes individuelt fra køkopiene
- Bug: når heis er offline og man bestiller nye externordre så stackes de i eksternordremåblilagttilarrayet, så hvis heis kommer online igjen skjer det shit

--------------------------------------------------------------------------------
Endre headingsavsending
- Endre at headings sender direction i tillegg
- Endre elevdirection i constants
- Endre at kø gir ut tom ordre når det skal stoppes
	- Hvordan går dette i hop med logikken som styrer at heisen ikke skal bevege seg
- Endre når elevator setter direction til dirstop (må skje når den vet at internkøen er tom)
- Endre updatenextorderlogikk til å ta hensyn for dette
- Gå gjennom sending og mottakelse av headings
- Utvide getelevatordirection til å takle tilfellet der order.Floor==elevator.lastFloor
	- Utvide finddistance til å takle dirstop-retningen
- Heis tar ikke høyde for at direction kan være "DirStop". Det fører til at en heis som er i andre kan ha dirup, en heis i tredje dirdown, så blir ordre 1 etasje tatt av den i 3. pga. systemet tror retningen til nærmeste heis er dirup.
	- Kan løses ved å innføre "DirStop" når internkøen er tom (sende tom ordre fra queuemodulen når det ikke er flere ordre)